/Red6TB/Maxim/tophat-2.1.1/tophat -p 50 --library-type fr-firststrand --transcriptome-index ./tophat-2.1.1/Mouse_indices/Refseq_coding --no-novel-juncs -o ./Mikhail/eef7-2/ ./bowtie2-2.2.7/Mouse_indices/NCBI_genome ./Mikhail/eef7-2/filtered.fastq
/Red6TB/Maxim/tophat-2.1.1/gtf_juncs ./tophat-2.1.1/Mouse_indices/Refseq_coding.gff  > ./Mikhail/eef7-2//tmp/Refseq_coding.juncs
#>prep_reads:
/Red6TB/Maxim/tophat-2.1.1/prep_reads --min-anchor 8 --splice-mismatches 0 --min-report-intron 50 --max-report-intron 500000 --min-isoform-fraction 0.15 --output-dir ./Mikhail/eef7-2// --max-multihits 20 --max-seg-multihits 40 --segment-length 25 --segment-mismatches 2 --min-closure-exon 100 --min-closure-intron 50 --max-closure-intron 5000 --min-coverage-intron 50 --max-coverage-intron 20000 --min-segment-intron 50 --max-segment-intron 500000 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --max-insertion-length 3 --max-deletion-length 3 -z gzip -p50 --gtf-annotations ./tophat-2.1.1/Mouse_indices/Refseq_coding.gff --gtf-juncs ./Mikhail/eef7-2//tmp/Refseq_coding.juncs --no-closure-search --no-coverage-search --no-microexon-search --library-type fr-firststrand --aux-outfile=./Mikhail/eef7-2//prep_reads.info --index-outfile=./Mikhail/eef7-2//tmp/left_kept_reads.bam.index --sam-header=./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam --outfile=./Mikhail/eef7-2//tmp/left_kept_reads.bam ./Mikhail/eef7-2/filtered.fastq
#>map_start:
/Red6TB/Maxim/tophat-2.1.1/bam2fastx --all ./Mikhail/eef7-2//tmp/left_kept_reads.bam|/Red6TB/Maxim/bowtie2-2.2.7/bowtie2 -k 60 -D 15 -R 2 -N 0 -L 20 -i S,1,1.25 --gbar 4 --mp 6,2 --np 1 --rdg 5,3 --rfg 5,3 --score-min C,-14,0 -p 50 --sam-no-hd -x ./tophat-2.1.1/Mouse_indices/Refseq_coding -|/Red6TB/Maxim/tophat-2.1.1/fix_map_ordering --bowtie2-min-score 15 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --sam-header ./Mikhail/eef7-2//tmp/Refseq_coding.bwt.samheader.sam - - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.bam | /Red6TB/Maxim/tophat-2.1.1/map2gtf --sam-header ./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam ./tophat-2.1.1/Mouse_indices/Refseq_coding.fa.tlst - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g.bam > ./Mikhail/eef7-2//logs/m2g_left_kept_reads.out
/Red6TB/Maxim/tophat-2.1.1/bam2fastx --all ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.bam|/Red6TB/Maxim/bowtie2-2.2.7/bowtie2 -k 20 -D 15 -R 2 -N 0 -L 20 -i S,1,1.25 --gbar 4 --mp 6,2 --np 1 --rdg 5,3 --rfg 5,3 --score-min C,-14,0 -p 50 --sam-no-hd -x ./bowtie2-2.2.7/Mouse_indices/NCBI_genome -|/Red6TB/Maxim/tophat-2.1.1/fix_map_ordering --bowtie2-min-score 15 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --index-outfile ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.mapped.bam.index --sam-header ./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.mapped.bam ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_unmapped.bam
#>map_segments:
gzip -cd< ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.fq.z|/Red6TB/Maxim/bowtie2-2.2.7/bowtie2 -k 41 -N 1 -L 20 -p 50 --sam-no-hd -x ./bowtie2-2.2.7/Mouse_indices/NCBI_genome -|/Red6TB/Maxim/tophat-2.1.1/fix_map_ordering --bowtie2-min-score 10 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --index-outfile ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.bam.index --sam-header ./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.bam ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1_unmapped.bam
gzip -cd< ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.fq.z|/Red6TB/Maxim/bowtie2-2.2.7/bowtie2 -k 41 -N 1 -L 20 -p 50 --sam-no-hd -x ./bowtie2-2.2.7/Mouse_indices/NCBI_genome -|/Red6TB/Maxim/tophat-2.1.1/fix_map_ordering --bowtie2-min-score 10 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --index-outfile ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.bam.index --sam-header ./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.bam ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2_unmapped.bam
#>juncs_db:
/Red6TB/Maxim/tophat-2.1.1/juncs_db 3 25 ./Mikhail/eef7-2//tmp/Refseq_coding.juncs /dev/null /dev/null /dev/null ./bowtie2-2.2.7/Mouse_indices/NCBI_genome.fa > ./Mikhail/eef7-2//tmp/segment_juncs.fa
/Red6TB/Maxim/bowtie2-2.2.7/bowtie2-build ./Mikhail/eef7-2//tmp/segment_juncs.fa ./Mikhail/eef7-2//tmp/segment_juncs
#>map2juncs:
gzip -cd< ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.fq.z|/Red6TB/Maxim/bowtie2-2.2.7/bowtie2 -k 41 -N 1 -L 20 -p 50 --sam-no-hd -x ./Mikhail/eef7-2//tmp/segment_juncs -|/Red6TB/Maxim/tophat-2.1.1/fix_map_ordering --bowtie2-min-score 10 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --index-outfile ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.to_spliced.bam.index --sam-header ./Mikhail/eef7-2//tmp/segment_juncs.bwt.samheader.sam - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.to_spliced.bam
gzip -cd< ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.fq.z|/Red6TB/Maxim/bowtie2-2.2.7/bowtie2 -k 41 -N 1 -L 20 -p 50 --sam-no-hd -x ./Mikhail/eef7-2//tmp/segment_juncs -|/Red6TB/Maxim/tophat-2.1.1/fix_map_ordering --bowtie2-min-score 10 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --index-outfile ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.to_spliced.bam.index --sam-header ./Mikhail/eef7-2//tmp/segment_juncs.bwt.samheader.sam - ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.to_spliced.bam
/Red6TB/Maxim/tophat-2.1.1/long_spanning_reads --min-anchor 8 --splice-mismatches 0 --min-report-intron 50 --max-report-intron 500000 --min-isoform-fraction 0.15 --output-dir ./Mikhail/eef7-2// --max-multihits 20 --max-seg-multihits 40 --segment-length 25 --segment-mismatches 2 --min-closure-exon 100 --min-closure-intron 50 --max-closure-intron 5000 --min-coverage-intron 50 --max-coverage-intron 20000 --min-segment-intron 50 --max-segment-intron 500000 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --max-insertion-length 3 --max-deletion-length 3 -z gzip -p50 --gtf-annotations ./tophat-2.1.1/Mouse_indices/Refseq_coding.gff --gtf-juncs ./Mikhail/eef7-2//tmp/Refseq_coding.juncs --no-closure-search --no-microexon-search --library-type fr-firststrand --sam-header ./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam --bowtie2-max-penalty 6 --bowtie2-min-penalty 2 --bowtie2-penalty-for-N 1 --bowtie2-read-gap-open 5 --bowtie2-read-gap-cont 3 --bowtie2-ref-gap-open 5 --bowtie2-ref-gap-cont 3 ./bowtie2-2.2.7/Mouse_indices/NCBI_genome.fa ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.bam ./Mikhail/eef7-2//tmp/Refseq_coding.juncs /dev/null /dev/null /dev/null ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.candidates.bam ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.bam,./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.bam ./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg1.to_spliced.bam,./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um_seg2.to_spliced.bam
#>tophat_reports:
/Red6TB/Maxim/tophat-2.1.1/tophat_reports --min-anchor 8 --splice-mismatches 0 --min-report-intron 50 --max-report-intron 500000 --min-isoform-fraction 0.15 --output-dir ./Mikhail/eef7-2// --max-multihits 20 --max-seg-multihits 40 --segment-length 25 --segment-mismatches 2 --min-closure-exon 100 --min-closure-intron 50 --max-closure-intron 5000 --min-coverage-intron 50 --max-coverage-intron 20000 --min-segment-intron 50 --max-segment-intron 500000 --read-mismatches 2 --read-gap-length 2 --read-edit-dist 2 --read-realign-edit-dist 3 --max-insertion-length 3 --max-deletion-length 3 -z gzip -p50 --gtf-annotations ./tophat-2.1.1/Mouse_indices/Refseq_coding.gff --gtf-juncs ./Mikhail/eef7-2//tmp/Refseq_coding.juncs --no-closure-search --no-microexon-search --library-type fr-firststrand --sam-header ./Mikhail/eef7-2//tmp/NCBI_genome_genome.bwt.samheader.sam --report-discordant-pair-alignments --report-mixed-alignments --samtools=/Red6TB/Maxim/tophat-2.1.1/samtools_0.1.18 --bowtie2-max-penalty 6 --bowtie2-min-penalty 2 --bowtie2-penalty-for-N 1 --bowtie2-read-gap-open 5 --bowtie2-read-gap-cont 3 --bowtie2-ref-gap-open 5 --bowtie2-ref-gap-cont 3 ./bowtie2-2.2.7/Mouse_indices/NCBI_genome.fa ./Mikhail/eef7-2//junctions.bed ./Mikhail/eef7-2//insertions.bed ./Mikhail/eef7-2//deletions.bed ./Mikhail/eef7-2//fusions.out ./Mikhail/eef7-2//tmp/accepted_hits ./Mikhail/eef7-2//tmp/left_kept_reads.m2g.bam,./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.mapped.bam,./Mikhail/eef7-2//tmp/left_kept_reads.m2g_um.candidates.bam ./Mikhail/eef7-2//tmp/left_kept_reads.bam
/Red6TB/Maxim/tophat-2.1.1/samtools_0.1.18 sort ./Mikhail/eef7-2//tmp/accepted_hits0.bam ./Mikhail/eef7-2//tmp/accepted_hits0_sorted
#>alldone:
